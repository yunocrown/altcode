<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./interface.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend Deca:wght@200;300;400;500;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=DM Sans:wght@400;500;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600&display=swap"
    />
  </head>
  <body>
    <div class="interface">
      <nav class="navbar"></nav>
      <nav class="secondarynavbar"></nav>
      <nav class="thirdnavbar"></nav>
      <img class="screenVisiblity" src="./public/vector.svg" alt="">
      <span class="logoName">Altcode</span>
      <span class="versionName">v1.0 - Flutter 3.10.4</span>
      <div class="blockLine"></div>
      <nav class="optionDetails">
        <span class="option1">Project</span>
        <span class="option2">Test</span>
        <span class="option3">Export</span>
        <span class="option4">Help</span>
      </nav>
      <div class="planStatus"></div>
      <span class="planTxt">Free</span>
      <img src="./public/-icon-people-community1.svg" alt="" class="communityIcon">
      <img src="./public/-icon-read-the-docs.svg" alt="" class="docsIcon">
      <img src="./public/-icon-donate.svg" alt="" class="donationIcon">
      <img src="./public/-icon-user-avatar-filled.svg" alt="" class="profileIcon">
      <span class="projectName">BUILDMYFLOW</span>
      <div class="dropdown">
        <button class="screenTxt">Screens</button>
        <div class="dropdown-content">
            <a href="#">Screen 1</a>
            <a href="#">Screen 2</a>
            <a href="#">Screen 3</a>
        </div>
      </div>
      <div class="componentSection">
        <div class="allcomponents">
          <button class="componentTxt">Components</button>
          <div class="component-content">
            <a href="#">All components</a>
            <a href="#">Screen 2</a>
            <a href="#">Screen 3</a>          
          </div>
          <img class="edit" src="./public/vector1.svg" alt="" >
          <img src="./public/group6.svg" alt="" class="del">
        </div>
      </div>
      <div class="copyScreen">
        <button class="copyscreenBtn">Copy Screen</button>
        <img src="./public/group-221.svg" alt="" class="copyIcon">
      </div>
      <div class="removeScreen">
        <button class="removeScreenBtn">Remove Screen</button>
        <img src="./public/group-220.svg" alt="" class="removeIcon">
      </div>
      <div class="addScreen">
        <button class="addScreenBtn">Add Screen</button>
        <img src="./public/group-2201.svg" alt="" class="addIcon">
      </div>
      <div class="secondarynavbtn">
        <button class="assets">
          <img src="./public/group5.svg" alt="" class="assetsIcon">
        </button>
        <img src="./public/group.svg" alt="" class="settingIcon">
        <button class="designBtn">Designer</button>
        <button class="blocksBtn">Blocks</button>
      </div>
      <div class="paletteSection">
        <span class="paletteTxt">Palette</span>
        <img src="./public/vector2.svg" alt="" class="searchIcon">
      </div>
      <div class="viewerSection">
        <div class="viewerTxt">Viewer</div>
        <div class="screenSection">
          <div class="allscreens">
            <button class="allscreenTxt">Samsung Galaxy S9</button>
            <img src="./public/group3.svg" alt="" class="deviceIcon">
            <div class="screen-content">
              <a href="#">All components</a>
              <a href="#">Screen 2</a>
              <a href="#">Screen 3</a>          
            </div>
          </div>
        </div>
      </div>
      <div class="stationaryIcons" id="stationaryIcons">
        <ul class="displayIcons">
          <details class="userInterface">
            <summary class="userInterfaceContent">
              <img src="./public/screenshot-monitor.svg" alt="" class="userInterfaceIcon">
              <!-- <span>User Interface</span> -->
            </summary>
            <!-- <p>sfgfrh</p> -->
          </details>
          <details class="layout">
            <summary class="userInterfaceContent">
              <img src="./public/vector3.svg" alt="" class="userInterfaceIcon">
              <!-- <span> Layout</span> -->
            </summary>
            <ul class="layoutContent">
              <a href="#">
                <img src="./public/browse1.svg" alt="" class="layoutContentIcon">
                General
              </a>
              <a href="#">
                <img src="./public/event-list1.svg" alt="" class="layoutContentIcon">
                List
              </a>
              <a href="#">
                <img src="./public/swap-vert1.svg" alt="" class="layoutContentIcon">
                Navigation
              </a>
              <a href="#">
                <img src="./public/capture1.svg" alt="" class="layoutContentIcon">
                Views
              </a>
            </ul>
          </details>
          <details class="media">
            <summary class="userInterfaceContent">
              <img src="./public/camera.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="drawingAnimation">
            <summary class="userInterfaceContent">
              <img src="./public/palette.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="maps">
            <summary class="userInterfaceContent">
              <img src="./public/group4.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="sensors">
            <summary class="userInterfaceContent">
              <img src="./public/assistant-navigation.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="socials">
            <summary class="userInterfaceContent">
              <img src="./public/connect-without-contact.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="storage">
            <summary class="userInterfaceContent">
              <img src="./public/backup.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="utilities">
            <summary class="userInterfaceContent">
              <img src="./public/cases.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="dynamic">
            <summary class="userInterfaceContent">
              <img src="./public/code2.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="connectivity">
            <summary class="userInterfaceContent">
              <img src="./public/hub.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="google">
            <summary class="userInterfaceContent">
              <img src="./public/vector4.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
          <details class="monetization">
            <summary class="userInterfaceContent">
              <img src="./public/monetization-on.svg" alt="" class="userInterfaceIcon">
            </summary>
            <ul class="layoutContent">
              <a href="#">
                <img src="./public/shopping-cart.svg" alt="" class="layoutContentIcon">
                General
              </a>
              <a href="#">
                <img src="./public/manga.svg" alt="" class="layoutContentIcon">
                Advertisement
              </a>
            </ul>
          </details>
          <details class="extensions">
            <summary class="userInterfaceContent">
              <img src="./public/send-time-extension.svg" alt="" class="userInterfaceIcon">
            </summary>
          </details>
        </ul>
      </div>
      <ul class="draggableScreen" id="draggableScreen">
        <a class="button" draggable="true" id="draggableButton">
          <img src="./public/radio-button-checked.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Button</span>
        </a>
        <a class="checkbox" draggable="true" id="draggableCheckbox">
          <img src="./public/check-box.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Checkbox</span>          
        </a> 
        <a class="circularProgress" draggable="true" id="draggablecircularprog">
          <img src="./public/donut-large.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Circular Progress</span>         
        </a> 
        <a class="customProgress" draggable="true" id="draggablecustomprog">
          <img src="./public/model-training.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Custom Progress</span>          
        </a>
        <a class="datePicker" draggable="true" id="draggabledatePicker">
          <img src="./public/calendar-view-day.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Date Picker</span>    
        </a>
        <a class="floatingActionbutton" draggable="true" id="draggablefloatingActionbutton">
          <img src="./public/add-circle.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Floating Action Button</span>         
        </a>
        <a class="Image" draggable="true" id="draggableImage">
          <img src="./public/art-track.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Image</span>
        </a>
        <a class="Label" draggable="true" id="draggableLabel">
          <img src="./public/label.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Label</span>
        </a>
        <a class="LinearProgressbar" draggable="true" id="draggableLinearProgressbar">
          <img src="./public/pending.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Linear Progressbar</span>         
        </a>
        <a class="Listpicker" draggable="true" id="draggableListpicker">
          <img src="./public/checklist.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">List Picker</span>         
        </a>
        <a class="Notifier" draggable="true" id="draggableNotifier">
          <img src="./public/notifications-active.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Notifier</span>
        </a>
        <a class="RatingBar" draggable="true" id="draggableRatingBar">
          <img src="./public/star-half.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Rating Bar</span>     
        </a>
        <a class="Slider" draggable="true" id="draggableSlider">
          <img src="./public/sliders.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Slider</span>   
        </a>
        <a class="Snackbar" draggable="true" id="draggableSnackbar">
          <img src="./public/dns.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Snackbar</span>        
        </a>
        <a class="Spinner" draggable="true" id="draggableSpinner">
          <img src="./public/expand-circle-down.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Spinner</span>   
        </a>
        <a class="Spotlight" draggable="true" id="draggableSpotlight">
          <img src="./public/highlight.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Spotlight</span>      
        </a>
        <a class="StateProgressBar" draggable="true" id="draggableStateProgressBar">
          <img src="./public/done-all.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">State Progress Bar</span>        
        </a> 
        <a class="Switch" draggable="true" id="draggableSwitch">
          <img src="./public/toggle-on.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Switch</span>   
        </a>  
        <a class="TextBox" draggable="true" id="draggableTextBox">
          <img src="./public/border-color.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Text Box</span>     
        </a> 
        <a class="TimePicker" draggable="true" id="draggableTimePicker">
          <img src="./public/calendar-clock.svg" alt="" class="buttonIcon">
          <span class="buttonTxt" id="buttonTxt">Time Picker</span>
        </a>              
      </ul>
      <div class="canvas">
        <img src="./public/Frame 233.png" alt="" class="screen">
        <div class="drop-target" id="drop-target"></div>
      </div>
      <div class="componentClass">
        <!-- component Screen-->
      </div>
      <div class="screenProperties">
        <div class="commonproperties">Common Properties</div>

        <!-- aboutscreen -->
        <div class="aboutScreen">
          <input type="text" name="" id="" class="aboutScreenTxt">
          <label class="label">About Screen</label>
        </div>

      <!-- aboutscreen Colorpicker -->
        <div class="colorpicker">
          <label class="colorpickerlabel">About Screen Background colour</label>
          <input type="color" name="" id="" class="color">
          <label class="hexcolor">#00000</label>
        </div>


      <!--  aboutscreen title   -->
        <div class="aboutScreentitle">
          <input type="text" name="" id="" class="screenlabelTxt">
          <label class="screenlabel">About Screen Title</label>
        </div>

      <!-- horizontal alignment   -->
        <div class="alignHorizontal">
          <button class="alignscreenTxt" id="center" data-id="alignScreentxt">Center</button>
          <label class="alignTxt">Align Horizontal</label>
          <div class="align-content">
            <button href="#" id="left" data-id="left">Left</button>
            <button href="#" id="center" data-id="center">Center</button>
            <button href="#" id="right" data-id="right">Right</button>          
          </div>
        </div>
      
      <!-- vertical alignment -->
        <div class="alignvertical">
          <button class="alignscreenTxt" id="center" data-id="alignScreentxt">Center</button>
          <label class="alignTxt">Align Verical</label>
          <div class="alignvertical-content">
            <button href="#" id="left" data-id="left">Top</button>
            <button href="#" id="center" data-id="center">Center</button>
            <button href="#" id="right" data-id="right">Bottom</button>          
          </div>
        </div>

        <!-- backgroundScreen colorpicker -->
        <div class="bgcolorpicker">
          <label class="colorpickerlabel">Background colour</label>
          <input type="color" name="" id="" class="color">
          <label class="hexcolor">#00000</label>
        </div>

        <!-- backgroundImage -->
        <div class="bgImage">
          <label class="imagelabel">Background Image</label>

        </div>
      </div>
      <div class="uploadingContent" id="uploadingContent">
        <label class="assetsTxt">Assets Manager</label>
        <div class="informationBlock">
          <p class="informationBlockTxt">
            You are currently on the free plan. Upgrade to Premium to compile apps with more than 5MB in assets. You are currently using 0MB in this project.
          </p>
          <a href="#" class="informationBlockTxtLink">upgrade to premium</a>
        </div>
        <img class="preview" id="preview >
            <p class="previewTxt">click on a file to preview</p>
        </img>
        <button class="AssetsUploadBtn">
          <input type="file" class="AssetsUpload" id="file-input" accept="image/*" multiple>
        </button>
      </div>
    </div>
    <script type="module" src="./uploadContent.js"></script>
    <script>
        const assets = document.querySelector(".assets");
        const uploadingContent = document.querySelector(".uploadingContent");
        assets.addEventListener("click" , () => {
          uploadingContent.style.display = "grid";
        })


        var sideIcons = document.getElementById("stationaryIcons");
        var dragScreen = document.getElementById("draggableScreen");
        // var userinterfaceTxt = document.getElementById("userinterfaceTxt");
        var buttonTxt = document.querySelectorAll(".buttonTxt");
        // var userInterface = document.getElementById("userInterface");
        // var layout = document.getElementById("layoutIcon");

        // var expandIcon = document.getElementById("expandIcon");
        // var layoutContent = document.getElementById("layoutContent");
        // layout.addEventListener("click", function () {
        //     layoutContent.style.display = "initial";
        // });

        sideIcons.addEventListener("mouseover", function() {
          sideIcons.style.width = "14.81rem";
          dragScreen.style.width = "3.69rem";
          dragScreen.style.left = "14.6rem";
          // userinterfaceTxt.style.display = "flex";
          // userInterface.style.width = "14.00rem";
          // layout.style.width = "14.00rem";
          for (let i = 0; i < buttonTxt.length; i++) {
            buttonTxt[i].style.display = 'none';
          }
        });
        sideIcons.addEventListener("mouseout", function() {
          sideIcons.style.width = "3.69rem";
          dragScreen.style.width = "14.81rem";
          dragScreen.style.left = "3.52rem";
          // userinterfaceTxt.style.display = "none";
          // userInterface.style.width = "4.5rem";
          // layout.style.width = "4.5rem";
          for (let i = 0; i < buttonTxt.length; i++) {
            buttonTxt[i].style.display = 'flex';
          }
        });

        var screenTxt = document.querySelector(".screenTxt");
        var dropdownContent = document.querySelector(".dropdown-content");
        dropdownContent.addEventListener("click", function(event) {
            if (event.target.tagName === "A") {
                screenTxt.textContent = event.target.textContent;
            }
        });

        var alignScreenTxt = document.getElementById("center");
        var alignContent = document.querySelector(".align-content");
        alignContent.addEventListener("click" , function(event) {
          if (event.target.tagName === "BUTTON") {
            var clickedButton = event.target.textContent;
            var currentButtonText = alignScreenTxt.textContent; 
            alignScreenTxt.textContent = clickedButton;
          }
        });

        var componentTxt = document.querySelector(".componentTxt");
        var componentContent = document.querySelector(".component-content");
        componentContent.addEventListener("click", function(event) {
            if (event.target.tagName === "A") {
                componentTxt.textContent = event.target.textContent;
            }
        });

        var allscreenTxt = document.querySelector(".allscreenTxt");
        var screenContent = document.querySelector(".screen-content");
        screenContent.addEventListener("click", function(event) {
            if (event.target.tagName === "A") {
                allscreenTxt.textContent = event.target.textContent;
            }
        });

        // var layoutTxt = document.getElementById("layoutTxt");
        // var layoutContent = document.querySelector(".layoutContent");
        // var layoutSwappableIcon = document.getElementById("layoutSwappableIcon");
        // layoutContent.addEventListener("click", function() {
        //   if (event.target.tagName === "A") {
        //     layoutTxt.textContent = event.target.textContent;
        //     var layoutContentIcon = event.target.querySelector(".layoutContentIcon");
        //     if(layoutSwappableIcon) {
        //       layoutSwappableIcon.src = layoutContentIcon.src;
        //     }
        //   }
        // });
        
        const AssetsUploadBtn = document.querySelector(".AssetsUploadBtn");
        const inputValue = document.querySelector('.AssetsUpload');
        const preview = document.querySelector(".preview");
        inputValue.addEventListener('change', ()=> {
            const reader = new FileReader();
            reader.onload = () => {
              preview.src = reader.result;
              localStorage.setItem('inputValue', inputValue.value);
            };
            reader.readAsDataURL(inputValue.files[0]);
        });
        AssetsUploadBtn.addEventListener('click', async () => {
          const inputValue = localStorage.getItem('inputValue');
          const formData = new FormData();
          formData.append('file', inputValue);
          const response = await axios.post('/upload', formData);
        });


        const listItems = document.querySelectorAll("#draggableScreen a");
        const target = document.querySelector("#drop-target");
        for (const listItem of listItems) {
          listItem.addEventListener("dragstart", dragStart);
        }

        const centerButton = document.querySelector("#center");
        var Target = document.getElementById("drop-target");
        centerButton.addEventListener("click", function() {
          console.log("centered")
            Target.style.justifyItems = "center";
        });

        const leftButton = document.querySelector("#left");
        leftButton.addEventListener("click", function() {
          Target.style.justifyItems = "flex-start";
          console.log("lefted")
        });

        const rightButton = document.querySelector("#right");
        rightButton.addEventListener("click", function() {
          Target.style.justifyItems = "flex-end";
        });

        target.addEventListener("dragover", dragOver);
        target.addEventListener("drop", drop);

        function dragStart(event) {
          const copyElement = event.target.cloneNode(true);
          event.dataTransfer.setData("text/plain", copyElement.id);
          copyElement.classList.add("cloned-element");
          console.log(copyElement.id)
        }

        function dragOver(event) {
            event.preventDefault();
        }

        function drop(event) {
          event.preventDefault();
          const draggableElementId = event.dataTransfer.getData("text/plain");
          const draggableElement = document.getElementById(draggableElementId);
          if (draggableElement) {
            const copyElement = draggableElement.cloneNode(true);
            target.appendChild(copyElement);
            const ulElement = copyElement.closest("a");
            ulElement.style.backgroundColor = "red";
            ulElement.style.padding = "10px";

            console.log('Element dropped');
          } else {
            console.error("Element with ID " + draggableElementId + " not found.");
          }
        }
        
        var aboutScreenTxt = document.querySelector(".aboutScreenTxt");
        var label = document.querySelector(".label");
        aboutScreenTxt.addEventListener("click", function() {
          label.style.top = "-10px";
          label.style.fontSize = "var(--font-size-2sx)";
          label.style.backgroundColor = "var(--color-gray-900)";
        });

        var screenlabelTxt = document.querySelector(".screenlabelTxt");
        var screenlabel = document.querySelector(".screenlabel");
        screenlabelTxt.addEventListener("click" , function() {
          screenlabel.style.fontSize = "var(--font-size-2sx)";
          screenlabel.style.backgroundColor = "var(--color-gray-900)";
          screenlabel.style.top = "-10px";
        })

        const colorPicker = document.querySelector(".color");
        const hexcolortext = document.querySelector(".hexcolor");
        colorPicker.addEventListener("change", function() {
          const hexColor = this.value;
          target.style.backgroundColor = hexColor;
          hexcolortext.textContent = hexColor;
        });
        hexcolortext.addEventListener("click", function() {
          colorPicker.click();
        });

        var draggableListpicker= document.getElementById("draggableListpicker");
        draggableListpicker.addEventListener("dragstart", function(event) {
          event.dataTransfer.setData("text/plain", event.target.id);
          draggableListpicker.style.backgroundColor = "var(--color-gray-900)";
          draggableListpicker.style.border = "1px solid var(--color-dimgray-200)";
          draggableListpicker.style.width = "13.5rem";
        });    
        draggableListpicker.addEventListener("dragend", function(event) {
          event.dataTransfer.setData("text/plain", event.target.id);
          draggableListpicker.style.border = "none";
          draggableListpicker.style.backgroundColor = "none";
        });

        var draggableButton= document.getElementById("draggableButton");
        draggableButton.addEventListener("dragstart", function(event) {
          event.dataTransfer.setData("text/plain", event.target.id);
          draggableButton.style.backgroundColor = "var(--color-gray-900)";
          draggableButton.style.border = "1px solid var(--color-dimgray-200)";
          draggableButton.style.width = "13.5rem";
        });    
        draggableButton.addEventListener("dragend", function(event) {
          event.dataTransfer.setData("text/plain", event.target.id);
          draggableButton.style.border = "none";
          draggableButton.style.backgroundColor = "none";
        });
    </script>
  </body>